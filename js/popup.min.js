"use strict";!function(){var e="Ваше сообщение успешно отправлено",t="Что-то пошло не так, попробуйте еще раз",c=document.querySelector(".form"),r=document.querySelector("#popup"),u=document.createDocumentFragment(),o=c.querySelector("#option"),i=c.querySelector("#name"),d=c.querySelector("#agreement"),l=document.querySelector(".form__checkbox"),a=c.querySelector(".form__text"),n=function(){var e=document.querySelector(".popup");document.removeEventListener("keydown",s),e.removeEventListener("click",p),e.remove(),o.focus()},s=function(e){"Escape"===e.code&&n()},p=function(e){e.target.classList.contains("popup")&&n()},m=function(){n()},v=function(e){var t=r.content.querySelector(".popup").cloneNode(!0),o=t.querySelector(".popup__close"),n=t.querySelector(".popup__title");document.querySelector(".main").appendChild(u.appendChild(t)),n.innerHTML=e,document.addEventListener("keydown",s),o.addEventListener("click",m,{once:!0}),t.addEventListener("click",p),o.focus(),c.reset(),i.removeAttribute("disabled"),d.removeAttribute("disabled"),l.classList.remove("visually-hidden"),a.classList.add("visually-hidden")},y=function(){v(e)},f=function(){v(t)};c.addEventListener("submit",function(e){!0===o.checkValidity()&&!0===i.checkValidity()&&!0===d.checkValidity()&&(e.preventDefault(),window.server.upload(new FormData(c),y,f))})}();